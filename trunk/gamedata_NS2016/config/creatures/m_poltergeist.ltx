;---''' POLTERGEIST '''---
[m_poltergeist_e]:monster_base
GroupControlSection = spawn_group
SpaceRestrictionSection = space_restrictor,zone_mosquito_bald,zone_radioactive
$npc = on
Scheduled = on
Human = off
Health = 250
MinSpeed = 2.0
MaxSpeed = 3.5
going_speed = 5.0
current_level_going_speed = 1
search_speed = 0.5
visual = monsters\poltergeist\poltergeist
corpse_visual = monsters\poltergeist\poltergeyst_dead
icon = ui_npc_monster_poltergeist
MaxHealthValue = 200
DynamicObjectsCount = 32
smart_terrain_choose_interval = 00:15:00

cform = skeleton
class = SM_POLTR

ef_creature_type = 5
ef_weapon_type = 12
ef_detector_type = 1
panic_threshold = 0.1

script_binding = bind_monster.bind

bone_torso = bip01_spine1
bone_head = bip01_head
bone_fire = bip01_head

weapon_usage = 0

Spawn_Inventory_Item_Section = mutant_poltergeist_glas
Spawn_Inventory_Item_Probability_onDeath = 0.8

type = telekinetic

ph_box0_center = 0.0, 0.2, 0.0
ph_box0_size   = 0.5, 0.4, 0.5
ph_box1_center = 0.0, 0.2, 0.0
ph_box1_size   = 0.5, 0.4, 0.5

ph_crash_speed_min         = 10
ph_crash_speed_max         = 30
ph_collision_damage_factor = 0.1
ph_mass                    = 80

ph_skeleton_airr_lin_factor = 2
ph_skeleton_airr_ang_factor = 0
ph_skeleton_hinger_factor1  = 1
ph_skeleton_ddelay          = 15

ph_skel_fatal_impulse_factor   = 6
ph_after_death_velocity_factor = 0.75
ph_skel_shot_up_factor         = 0.25

destroyed_vis_name = physics\Dead_Body\trupik_crash

Velocity_Stand          = 0.0, 5.0, 5.0, 0.2, 0.5
Velocity_WalkFwdNormal  = 1.7, 2.0, 2.0, 0.2, 2.0
Velocity_WalkFwdDamaged = 1.5, 3.0, 3.0, 0.8, 2.0
Velocity_RunFwdNormal   = 4.0, 3.0, 3.0, 0.4, 1.0
Velocity_RunFwdDamaged  = 2.5, 3.2, 3.2, 0.4, 1.0
Velocity_Drag           = 0.6, 3.0, 3.0, 1.0, 1.0
Velocity_Steal          = 1.5, 3.0, 3.0, 1.0, 1.0

Velocity_Invisible_Linear  = 5.0
Velocity_Invisible_Angular = 3.5

Accel_Generic    = 1.5
Accel_Calm       = 2.5
Accel_Aggressive = 3.0

MinAttackDist = 0.4
MaxAttackDist = 2.5

as_min_dist = 0.1
as_step     = 0.3

DayTime_Begin = 0
DayTime_End   = 21
Min_Satiety   = 0.7
Max_Satiety   = 0.95

distance_to_corpse = 1.8

terrain = poltergeist_terrain

hit_type = strike

satiety_v          = 0.0001
radiation_v        = 0.00001
satiety_power_v    = 0.005
satiety_health_v   = 0.001
satiety_critical   = -1.0
radiation_health_v = 0.0001
morale_v           = 0.1
health_hit_part    = 1.0
power_hit_part     = 1.0
psy_health_v       = 0.1

immunities_sect = poltergeist_immunities

bleeding_v          = 0.01
wound_incarnation_v = 0.003
min_wound_size      = 0.01

sleep_health     = 1.0
sleep_power      = 1.0
sleep_satiety    = 1.0
sleep_radiation  = 1.0
sleep_psy_health = 1.0

eat_freq         = 5.0
eat_slice        = 0.01
eat_slice_weight = 10.0

satiety_threshold = 0.5

Sound_Idle           = monsters\poltergeist\idle_0
sound_eat            = monsters\biting\def_
sound_aggressive     = monsters\poltergeist\attack_
sound_attack_hit     = monsters\poltergeist\attack_hit_0
sound_take_damage    = monsters\poltergeist\tele_damage_
sound_die            = monsters\poltergeist\die_
sound_threaten       = monsters\biting\def_0
sound_landing        = monsters\biting\def_
sound_steal          = monsters\biting\def_
sound_panic          = monsters\biting\def_0
sound_growling       = monsters\biting\def_0
sound_die_in_anomaly = monsters\poltergeist\die_
sound_tele_hold      = monsters\poltergeist\tele_hold_0
sound_tele_throw     = monsters\burer\burer_tele_throw

killer_clsids = Z_MINCER,Z_GALANT,ZS_BFUZZ,ZS_MBALD,ZS_GALAN,ZS_MINCE

idle_sound_delay   = 0
eat_sound_delay    = 0
attack_sound_delay = 0

sound_distant_idle       = monsters\biting\def_0
distant_idle_sound_delay = 80000
distant_idle_sound_range = 100.0

SoundThreshold = 0.06
max_hear_dist  = 60

eye_fov   = 110
eye_range = 30

DynamicObjectsCount = 32

min_view_distance       = 0.8
max_view_distance       = 1.0
visibility_threshold    = 100
always_visible_distance = 0.5
time_quant              = 0.001
decrease_value          = 0.01
velocity_factor         = 0.5
luminocity_factor       = 0.5
transparency_threshold  = 0.25

Morale_Hit_Quant             = 0.01
Morale_Attack_Success_Quant  = 0.3
Morale_Take_Heart_Speed      = 0.1
Morale_Despondent_Speed      = 0.1
Morale_Stable_Speed          = 0.3
Morale_Despondent_Threashold = 0.5

DamagedThreshold = 0.5

material = creatures\large

squad_attack_algorithm = 1

anger_hunger_threshold = 0.1
anger_loud_threshold   = 0.7

attack_effector = poltergeist_attack_effector
attack_params   = poltergeist_attack_params
damage          = poltergeist_damage
step_params     = poltergeist_step_params

LegsCount = 2

Invisible_Energy_Restore_Velocity            = 0.02
Invisible_Energy_Decline_Velocity            = 0.0
Invisible_Energy_Critical_Value              = 0.01
Invisible_Energy_Activate_Value              = 0.99
Invisible_Energy_Aggressive_Restore_Velocity = 0.05

Particles_Damage = monsters\polter_damage
Particles_Death  = monsters\polter_death
Particles_Idle   = monsters\polter_idle
Particles_Hidden = monsters\polter_linza
Hidden_Particles = monsters\polter_linza

Delay_Flame_Min        = 30000
Delay_Flame_Normal     = 30001
Delay_Flame_Aggressive = 30001

Delay_Tele_Min        = 0
Delay_Tele_Normal     = 100
Delay_Tele_Aggressive = 10

Delay_Scare_Min        = 30000
Delay_Scare_Normal     = 30001
Delay_Scare_Aggressive = 30001

species   = poltergeist
rank      = 101
spec_rank = weak
community = poltergeist

critical_wound_threshold      = -1
critical_wound_decrease_quant = 0

Tele_Fly_Time        = 0.30
Tele_Fly_Velocity    = 30
Tele_Find_Radius     = 10
Tele_Object_Min_Mass = 40
Tele_Object_Max_Mass = 500
Tele_Object_Count    = 4
Tele_Hold_Time       = 2000
Tele_Wait_Time       = 3000
Tele_Delay_Between_Objects_Time = 1000
Tele_Distance         = 30
Tele_Object_Height    = 2
Tele_Time_Object_Keep = 15000
Tele_Raise_Speed      = 6
Tele_Delay_Between_Objects_Raise_Time = 2000

[poltergeist_damage]
default      = 1, -1, 0.1
bip01_pelvis = 1, -1, 0.2
bip01_spine  = 1, -1, 0.2
bip01_spine1 = 1, -1, 0.2
bip01_neck   = 1, -1, 0.5
bip01_head   = 2, -1, 0.3

[poltergeist_attack_params]
stand_attack_0 = 0.3, 0.20, 50, 0, 1, 1, -1.6, 1.6, -1.6, 1.6, 3.5
stand_attack_1 = 0.3, 0.15, 50, 0, 1, 1, -1.6, 1.6, -1.6, 1.6, 3.5

[poltergeist_attack_effector]
duality_h       = 0.01
duality_v       = 0.01
blur            = 0.04
gray            = 0.5
noise_intensity = 0.1
noise_grain     = 1
noise_fps       = 30
color_base      = 0.65,0.15,0.1
color_gray      = 0.333,0.333,0.333
color_add       = 0,0,0
time            = 0.3
time_attack     = 0.05
time_release    = 0.25

ce_time          = 0.45
ce_amplitude     = -15.0
ce_period_number = 1.5
ce_power         = 1.5

[poltergeist_step_params]
stand_walk_fwd_0     = 1, 0.1, 1, 0.34, 1, 0.6, 1, 0.84, 1
stand_walk_fwd_dmg_0 = 1, 0.2, 1, 0.25, 1, 0.5, 1, 0.70, 1
stand_run_0          = 1, 0.1, 1, 0.30, 1, 0.5, 1, 0.55, 1
stand_run_dmg_0      = 1, 0.2, 1, 0.25, 1, 0.7, 1, 0.75, 1

[poltergeist_terrain]
255,000,255,255
001,002,000,000 ;Кордон
008,001,000,000 ;Бар
010,001,000,000 ;Янтарь
012,001,000,000 ;Миллитари

[poltergeist_immunities]
burn_immunity          = 0.3
strike_immunity        = 0.7
shock_immunity         = 0.5
wound_immunity         = 0.3
radiation_immunity     = 0.0
telepatic_immunity     = 1.0
chemical_burn_immunity = 1.0
explosion_immunity     = 1.0
fire_wound_immunity    = 1.0

;--------------------------------------------------------------------------------
[poltergeist_weak]:m_poltergeist_e
$spawn = "monsters\poltergeists\poltergeist_weak"

[poltergeist_normal]:m_poltergeist_e
$spawn = "monsters\poltergeists\poltergeist_normal"
spec_rank = normal
rank = 301

[poltergeist_strong]:m_poltergeist_e
$spawn = "monsters\poltergeists\poltergeist_strong"
spec_rank = strong
rank = 601
Sound_Idle = monsters\poltergeist\tele_idle_0
sound_take_damage = monsters\poltergeist\tele_damage_
sound_die = monsters\poltergeist\tele_death_
sound_tele_hold = monsters\burer\burer_tele_hold

;---''' FLAMER '''---
[poltergeist_flame]:m_poltergeist_e
$spawn = "monsters\poltergeists\poltergeist_flame"
spec_rank = personal
rank = 901
type = flamer
flame_sound             = monsters\poltergeist\attack_hit_flame
flame_particles_prepare = monsters\polter_yadro
flame_particles_fire    = static\monsters_fire_idle
flame_particles_stop    = static\monsters_fire_stop
flame_fire_time_delay   = 1000
flame_fire_time_play    = 3000
flame_length            = 8.0
flame_hit_value         = 0.8
flame_hit_delay         = 300
flames_count            = 3
flames_delay            = 4000
flame_aura_radius       = 10
flame_scan_radius       = 10
flame_min_dist          = 2
flame_max_dist          = 15
flame_min_height        = 0.5
flame_max_height        = 1.0

flame_scan_delay_min_max    = 5000,10000
flame_scan_sound            = monsters\burer\burer_scan_affect_0
flame_scan_effector_section = poltergeist_scan_effector

Particles_Damage = monsters\polter_damage
Particles_Death  = monsters\polter_death_00
Particles_Idle   = monsters\polter_idle_00
Particles_Hidden = monsters\polter_linza_00

Hidden_Particles = monsters\polter_linza_00
Sound_Idle       = monsters\poltergeist\fire_idle_0

[poltergeist_scan_effector]
duality_h       = 0.003
duality_v       = 0.002
blur            = 1.5
gray            = 0.3
noise_intensity = 0.0
noise_grain     = 2
noise_fps       = 8
color_base      = 0.55,0.5,0.5
color_gray      = 0.333,0.333,0.333
color_add       = 0.05,0.0,0.0
time            = 10.00
time_attack     = 0.3
time_release    = 0.85

;--- horror ---------------------------------------------------------------
[horror_poltergeist_weak]:poltergeist_weak
$spawn			="monsters\poltergeists\horror_poltergeist_weak"
panic_threshold		= 0.01
rank 				= 400
DayTime_Begin		= 0
DayTime_End			= 24

[horror_poltergeist_normal]:poltergeist_normal
$spawn			="monsters\poltergeists\horror_poltergeist_normal"
panic_threshold		= 0.01
rank 				= 400
DayTime_Begin		= 0
DayTime_End			= 24

[horror_poltergeist_strong]:poltergeist_strong
$spawn			="monsters\poltergeists\horror_poltergeist_strong"
panic_threshold		= 0.01
rank 				= 400
DayTime_Begin		= 0
DayTime_End			= 24
;--- horror ------------------------------------------------------- end ---